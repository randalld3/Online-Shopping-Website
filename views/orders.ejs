<!DOCTYPE html>
<html>
<head>
  <title>Glasses Shopping Portal Home</title>
  <link rel='stylesheet' href='/stylesheets/common.css'/>
  <link rel='stylesheet' href='/stylesheets/orders.css'/>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
</head>
<body>

  <!-- Header Section -->
  <header class="header">
    <img src="/images/filter.png" class="header_icon" data-toggle="modal" data-target="#sidebar-modal">
    <a href="/">
      <img src="/images/logo_temp.png" class="header_icon logo">
    </a>
    <form class="search-form" action="/search" method="GET">
      <input type="text" class="search_bar" name="q" placeholder="Search" required>
      <button type="submit" class="search-btn">Search</button>
    </form>
    <a href="/profile">
      <img src="/images/profile.jpg" class="header_icon">
    </a>
    <a href="/cart">
      <img src="/images/cart.jpg" class="header_icon">
    </a>
  </header>

  <!-- Main Content Section -->
  <div class="container orders-container">
    <div class="row">
      <div class="col-12">
        <h1 class="orders-header">Past Orders</h1>
      </div>
    </div>
    <div class="row">
      <!-- Placeholder for past orders -->
      <% orders.forEach(function(order) { %>
        <div class="col-12">
          <div class="order-item">
            <p><span class="order-key">Product Name:</span> <span class="order-value"><%= order.productName %></span></p>
            <p><span class="order-key">Cost:</span> <span class="order-value">$<%= order.cost %></span></p>
            <p><span class="order-key">Quantity:</span> <span class="order-value"><%= order.numOrdered %></span></p>
            <p><span class="order-key">Order Date:</span> <span class="order-value"><%= order.orderDate %></span></p>
          </div>
        </div>
      <% }); %>
      <!-- If no orders are available -->
      <% if (!orders.length) { %>
        <div class="col-12">
          <p>No past orders found.</p>
        </div>
      <% } %>
    </div>
  </div>


  <!-- Footer Section -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <a href="/returns" class="footer-link">Returns</a>
          <a href="/faq" class="footer-link">FAQ</a>
        </div>
        <div class="col-md-6">
          <a href="/shipping" class="footer-link">Shipping</a>
          <a href="/contact" class="footer-link">Contact Us</a>
        </div>
      </div>
      <div class="row justify-content-center social-media-row">
        <div class="col-auto">
          <a href="https://facebook.com" class="footer-icon"><img src="/images/facebook-icon.png" alt="Facebook"></a>
        </div>
        <div class="col-auto">
          <a href="https://twitter.com" class="footer-icon"><img src="/images/twitter-icon.png" alt="Twitter"></a>
        </div>
        <div class="col-auto">
          <a href="https://instagram.com" class="footer-icon"><img src="/images/instagram-icon.png" alt="Instagram"></a>
        </div>
        <div class="col-auto">
          <a href="https://tiktok.com" class="footer-icon"><img src="/images/tiktok-icon.png" alt="TikTok"></a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Sidebar Modal -->
  <%- include('sidebar') %>

  <!-- Script to load page based on user type -->
  <script>
  
  var userType = document.getElementById('userType').value;

  var thirdButton = document.getElementById('third-button');
  var thirdButtonText = thirdButton.getElementsByTagName('button')[0];

  thirdButton.classList.add('third-button');

  if (userType) {
    thirdButton.href = '/products';
    thirdButtonText.textContent = 'Products';
  } else {
    thirdButton.href = '/cart';
    thirdButtonText.textContent = 'Cart';
  }
  </script>

</body>
</html>
